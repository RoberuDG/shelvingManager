
--TABLES CREATION--

CREATE TABLE IF NOT EXISTS rooms (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT(20) NOT NULL,
    description TEXT(255),
    n_squares INTEGER NOT NULL,
    height INTEGER NOT NULL,
    creation_date TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE IF NOT EXISTS shelvings (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    room_id INTEGER NOT NULL,
    code INTEGER NOT NULL,
    squares INTEGER NOT NULL,
    height INTEGER NOT NULL,
    creation_date TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (room_id) REFERENCES rooms(id)
);

CREATE TABLE IF NOT EXISTS shelves (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    shelving_id INTEGER NOT NULL,
    code INTEGER NOT NULL,
    creation_date TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (shelving_id) REFERENCES shelvings(id)
);

CREATE TABLE IF NOT EXISTS item_types (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT(20) NOT NULL,
    description TEXT(255),
    height INTEGER NOT NULL,
    width INTEGER NOT NULL,
    depth INTEGER NOT NULL
);

CREATE TABLE IF NOT EXISTS items (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    shelving_id INTEGER,
    item_type_id INTEGER NOT NULL,
    code INTEGER NOT NULL,
    name TEXT(25) NOT NULL,
    description TEXT(255) NOT NULL,
    FOREIGN KEY (shelving_id) REFERENCES shelvings(id),
    FOREIGN KEY (item_type_id) REFERENCES item_types(id)
);